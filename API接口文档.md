# Yarbo æ‹›è˜ç³»ç»Ÿ - API æ¥å£æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£æ¦‚è§ˆ

æœ¬æ–‡æ¡£è¯¦ç»†è®°å½•äº† yarbo-recruitment é¡¹ç›®ä¸­æ‰€æœ‰ API æ¥å£çš„åŠŸèƒ½ã€å‚æ•°å’Œä½¿ç”¨æ–¹æ³•ã€‚

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æ›´æ–°æ—¶é—´**: 2025 å¹´ 6 æœˆ 14 æ—¥  
**API åŸºç¡€è·¯å¾„**: `/api`  
**API æ€»æ•°**: 25 ä¸ªæ¥å£

---

## ğŸ” è®¤è¯è¯´æ˜

### è®¤è¯æ–¹å¼

- **Supabase Auth**: ä½¿ç”¨ Supabase æä¾›çš„ JWT è®¤è¯
- **Session ç®¡ç†**: åŸºäº HTTP-only cookies
- **æƒé™æ§åˆ¶**: åŸºäºç”¨æˆ·è§’è‰²ï¼ˆadminã€hrã€candidateï¼‰

### è¯·æ±‚å¤´è®¾ç½®

```http
Content-Type: application/json
Authorization: Bearer <jwt_token>
```

---

## ğŸ“Š API ç»Ÿè®¡æ€»è§ˆ

| æ¨¡å—       | æ¥å£æ•°é‡  | çŠ¶æ€        |
| ---------- | --------- | ----------- |
| ç”³è¯·ç®¡ç†   | 1 ä¸ª      | âœ… å·²å®Œæˆ   |
| èŒä½ç®¡ç†   | 2 ä¸ª      | âœ… å·²å®Œæˆ   |
| HR ç®¡ç†    | 10 ä¸ª     | ğŸ”„ éƒ¨åˆ†å®Œæˆ |
| å€™é€‰äººç®¡ç† | 1 ä¸ª      | ğŸ”„ éƒ¨åˆ†å®Œæˆ |
| é‚®ä»¶ç³»ç»Ÿ   | 3 ä¸ª      | âœ… å·²å®Œæˆ   |
| é€šçŸ¥ç³»ç»Ÿ   | 4 ä¸ª      | ğŸ”„ éƒ¨åˆ†å®Œæˆ |
| è¯„ä¼°ç³»ç»Ÿ   | 1 ä¸ª      | ğŸ“‹ è®¡åˆ’ä¸­   |
| æ¶ˆæ¯ç³»ç»Ÿ   | 3 ä¸ª      | ï¿½ éƒ¨åˆ†å®Œæˆ  |
| **æ€»è®¡**   | **25 ä¸ª** | -           |

---

## ğŸ—‚ï¸ API æ¥å£åˆ†ç±»

## 1. ç”³è¯·ç®¡ç† (Applications)

### 1.1 æäº¤ç”³è¯·

**æ¥å£è·¯å¾„**: `POST /api/applications/submit`  
**åŠŸèƒ½æè¿°**: å€™é€‰äººæäº¤èŒä½ç”³è¯·ï¼Œè‡ªåŠ¨åˆ›å»ºç”¨æˆ·è´¦æˆ·  
**æƒé™è¦æ±‚**: æ— éœ€è®¤è¯ï¼ˆå…¬å¼€æ¥å£ï¼‰

**è¯·æ±‚å‚æ•°**:

```json
{
  "jobId": "string", // å¿…å¡« - èŒä½ID
  "applicantInfo": {
    "name": "string", // å¿…å¡« - ç”³è¯·äººå§“å
    "email": "string", // å¿…å¡« - é‚®ç®±åœ°å€
    "phone": "string" // å¿…å¡« - æ‰‹æœºå·ç 
  },
  "coverLetter": "string", // å¯é€‰ - æ±‚èŒä¿¡å†…å®¹
  "useExistingResume": true, // å¯é€‰ - ä½¿ç”¨ç”¨æˆ·å·²ä¸Šä¼ çš„ç®€å†
  "resumeFile": {
    // å¯é€‰ - ä¸Šä¼ æ–°ç®€å†ï¼ˆå‘åå…¼å®¹ï¼‰
    "name": "string", // æ–‡ä»¶å
    "size": "number", // æ–‡ä»¶å¤§å°(å­—èŠ‚)
    "type": "string", // æ–‡ä»¶ç±»å‹
    "data": "string" // Base64ç¼–ç çš„æ–‡ä»¶æ•°æ®
  }
}
```

**å“åº”æ ¼å¼**:

```json
{
  "success": true,
  "message": "ç”³è¯·æäº¤æˆåŠŸ",
  "data": {
    "user": {
      "id": "string",
      "email": "string",
      "role": "candidate",
      "status": "active"
    },
    "applicant": {
      "id": "string",
      "name": "string",
      "email": "string",
      "phone": "string"
    },
    "resume": {
      "id": "string",
      "filename": "string",
      "file_path": "string"
    },
    "application": {
      "id": "string",
      "job_id": "string",
      "cover_letter": "string",
      "status": "submitted"
    }
  }
}
```

**ä½¿ç”¨ç¤ºä¾‹**:

```bash
curl -X POST http://localhost:3002/api/applications/submit \
  -H "Content-Type: application/json" \
  -d '{
    "jobId": "b331caed-3f65-4d4f-8b92-f94e64ba357c",
    "applicantInfo": {
      "name": "å¼ ä¸‰",
      "email": "zhangsan@example.com",
      "phone": "13800138000"
    },
    "coverLetter": "æˆ‘å¯¹è¿™ä¸ªèŒä½éå¸¸æ„Ÿå…´è¶£ï¼Œå¸Œæœ›èƒ½å¤ŸåŠ å…¥è´µå…¬å¸...",
    "useExistingResume": true
  }'
```

---

## 2. èŒä½ç®¡ç† (Jobs)

### 2.1 è·å–èŒä½åˆ—è¡¨

**æ¥å£è·¯å¾„**: `GET /api/jobs`  
**åŠŸèƒ½æè¿°**: è·å–æ‰€æœ‰æ´»è·ƒçŠ¶æ€çš„èŒä½åˆ—è¡¨  
**æƒé™è¦æ±‚**: æ— éœ€è®¤è¯ï¼ˆå…¬å¼€æ¥å£ï¼‰

**æŸ¥è¯¢å‚æ•°**:

- æ— 

**å“åº”æ ¼å¼**:

```json
{
  "success": true,
  "jobs": [
    {
      "id": "string",
      "title": "string",
      "department": "string",
      "status": "active",
      "location": "string",
      "employment_type": "string",
      "created_at": "string"
    }
  ],
  "count": "number"
}
```

**ä½¿ç”¨ç¤ºä¾‹**:

```bash
curl -X GET http://localhost:3002/api/jobs
```

### 2.2 åˆ›å»ºèŒä½

**æ¥å£è·¯å¾„**: `POST /api/jobs`  
**åŠŸèƒ½æè¿°**: åˆ›å»ºæ–°çš„èŒä½  
**æƒé™è¦æ±‚**: HR æˆ–ç®¡ç†å‘˜

**è¯·æ±‚å‚æ•°**:

```json
{
  "title": "string", // å¿…å¡« - èŒä½æ ‡é¢˜
  "department": "string", // å¿…å¡« - éƒ¨é—¨
  "description": "string", // å¿…å¡« - èŒä½æè¿°
  "requirements": "string", // å¯é€‰ - ä»»èŒè¦æ±‚
  "location": "string", // å¯é€‰ - å·¥ä½œåœ°ç‚¹
  "employment_type": "string" // å¯é€‰ - å·¥ä½œç±»å‹
}
```

**å“åº”æ ¼å¼**:

```json
{
  "success": true,
  "message": "èŒä½åˆ›å»ºæˆåŠŸ",
  "job": {
    "id": "string",
    "title": "string",
    "department": "string",
    "status": "active"
  }
}
```

---

## 3. HR ç®¡ç† (HR Management)

### 3.1 è·å–å€™é€‰äººåˆ—è¡¨

**æ¥å£è·¯å¾„**: `GET /api/hr/candidates`  
**åŠŸèƒ½æè¿°**: è·å–å€™é€‰äººåˆ—è¡¨ï¼Œæ”¯æŒæœç´¢å’Œç­›é€‰  
**æƒé™è¦æ±‚**: HR æˆ–ç®¡ç†å‘˜

**æŸ¥è¯¢å‚æ•°**:

- `search` (string): æœç´¢å…³é”®è¯ï¼ˆå§“åã€é‚®ç®±ã€æŠ€èƒ½ï¼‰
- `status` (string): çŠ¶æ€ç­›é€‰ï¼ˆactiveã€passiveã€hiredã€rejectedï¼‰
- `experience` (string): ç»éªŒç­›é€‰ï¼ˆ1ã€3ã€5ï¼‰
- `rating` (string): è¯„åˆ†ç­›é€‰ï¼ˆ1-5ï¼‰
- `skills` (string): æŠ€èƒ½ç­›é€‰ï¼ˆé€—å·åˆ†éš”ï¼‰
- `location` (string): åœ°ç‚¹ç­›é€‰
- `source` (string): æ¥æºç­›é€‰
- `page` (number): é¡µç ï¼ˆé»˜è®¤ 1ï¼‰
- `limit` (number): æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤ 20ï¼‰

**å“åº”æ ¼å¼**:

```json
{
  "success": true,
  "data": [
    {
      "id": "string",
      "name": "string",
      "email": "string",
      "phone": "string",
      "location": "string",
      "experience": "string",
      "skills": ["string"],
      "rating": "number",
      "status": "string",
      "applied_jobs": [
        {
          "job_id": "string",
          "job_title": "string",
          "applied_date": "string",
          "status": "string"
        }
      ]
    }
  ],
  "pagination": {
    "page": "number",
    "limit": "number",
    "total": "number",
    "totalPages": "number"
  }
}
```

### 3.2 åˆ›å»ºå€™é€‰äºº

**æ¥å£è·¯å¾„**: `POST /api/hr/candidates`  
**åŠŸèƒ½æè¿°**: æ‰‹åŠ¨åˆ›å»ºå€™é€‰äººè®°å½•  
**æƒé™è¦æ±‚**: HR æˆ–ç®¡ç†å‘˜

**è¯·æ±‚å‚æ•°**:

```json
{
  "name": "string", // å¿…å¡« - å§“å
  "email": "string", // å¿…å¡« - é‚®ç®±
  "phone": "string", // å¿…å¡« - ç”µè¯
  "location": "string", // å¯é€‰ - åœ°ç‚¹
  "experience": "string", // å¯é€‰ - å·¥ä½œç»éªŒ
  "education": "string", // å¯é€‰ - æ•™è‚²èƒŒæ™¯
  "skills": ["string"], // å¯é€‰ - æŠ€èƒ½åˆ—è¡¨
  "rating": "number", // å¯é€‰ - è¯„åˆ†(1-5)
  "status": "string", // å¯é€‰ - çŠ¶æ€
  "source": "string" // å¯é€‰ - æ¥æº
}
```

### 3.3 æ‰¹é‡æ“ä½œå€™é€‰äºº

**æ¥å£è·¯å¾„**: `PUT /api/hr/candidates`  
**åŠŸèƒ½æè¿°**: æ‰¹é‡æ›´æ–°å€™é€‰äººçŠ¶æ€æˆ–ä¿¡æ¯  
**æƒé™è¦æ±‚**: HR æˆ–ç®¡ç†å‘˜

**è¯·æ±‚å‚æ•°**:

```json
{
  "action": "string", // å¿…å¡« - æ“ä½œç±»å‹
  "candidate_ids": ["string"], // å¿…å¡« - å€™é€‰äººIDåˆ—è¡¨
  "data": {
    // å¿…å¡« - æ›´æ–°æ•°æ®
    "status": "string", // çŠ¶æ€æ›´æ–°
    "rating": "number", // è¯„åˆ†æ›´æ–°
    "note": "string" // æ·»åŠ å¤‡æ³¨
  }
}
```

### 3.4 æ‰¹é‡å¯¼å‡ºå€™é€‰äºº

**æ¥å£è·¯å¾„**: `POST /api/hr/candidates/batch`  
**åŠŸèƒ½æè¿°**: æ‰¹é‡å¯¼å‡ºå€™é€‰äººæ•°æ®  
**æƒé™è¦æ±‚**: HR æˆ–ç®¡ç†å‘˜  
**å¼€å‘çŠ¶æ€**: ğŸ”„ å¼€å‘ä¸­

### 3.5 æ›´æ–°ç”³è¯·çŠ¶æ€

**æ¥å£è·¯å¾„**: `PUT /api/hr/applications/[id]/status`  
**åŠŸèƒ½æè¿°**: æ›´æ–°ç”³è¯·çŠ¶æ€  
**æƒé™è¦æ±‚**: HR æˆ–ç®¡ç†å‘˜  
**å¼€å‘çŠ¶æ€**: ğŸ”„ å¼€å‘ä¸­

### 3.6 æ™ºèƒ½é¢è¯•è°ƒåº¦

**æ¥å£è·¯å¾„**: `POST /api/hr/interviews/smart-schedule`  
**åŠŸèƒ½æè¿°**: æ™ºèƒ½å®‰æ’é¢è¯•æ—¶é—´  
**æƒé™è¦æ±‚**: HR æˆ–ç®¡ç†å‘˜  
**å¼€å‘çŠ¶æ€**: ğŸ”„ å¼€å‘ä¸­

---

## 4. å€™é€‰äººç³»ç»Ÿ (Candidates)

### 4.1 è·å–é¢è¯•æ—¶é—´æ®µ

**æ¥å£è·¯å¾„**: `GET /api/candidates/interview-slots/[token]`  
**åŠŸèƒ½æè¿°**: å€™é€‰äººé€šè¿‡ token è·å–å¯é€‰é¢è¯•æ—¶é—´  
**æƒé™è¦æ±‚**: æœ‰æ•ˆçš„é¢è¯• token

**è·¯å¾„å‚æ•°**:

- `token` (string): é¢è¯•é‚€è¯· token

**å“åº”æ ¼å¼**:

```json
{
  "success": true,
  "data": {
    "candidate_name": "string",
    "job_title": "string",
    "available_slots": [
      {
        "date": "string",
        "time": "string",
        "duration": "number"
      }
    ]
  }
}
```

---

## 5. é‚®ä»¶ç³»ç»Ÿ (Email)

### 5.1 å‘é€é‚®ä»¶

**æ¥å£è·¯å¾„**: `POST /api/email`  
**åŠŸèƒ½æè¿°**: å‘é€å„ç±»é€šçŸ¥é‚®ä»¶  
**æƒé™è¦æ±‚**: HR æˆ–ç®¡ç†å‘˜

**è¯·æ±‚å‚æ•°**:

```json
{
  "type": "string", // å¿…å¡« - é‚®ä»¶ç±»å‹
  "to": "string", // å¿…å¡« - æ”¶ä»¶äººé‚®ç®±
  "data": {
    // å¿…å¡« - é‚®ä»¶æ¨¡æ¿æ•°æ®
    "candidateName": "string",
    "jobTitle": "string",
    "companyName": "string",
    "applicationId": "string"
  }
}
```

**é‚®ä»¶ç±»å‹**:

- `APPLICATION_RECEIVED`: ç”³è¯·ç¡®è®¤é‚®ä»¶
- `APPLICATION_UNDER_REVIEW`: ç”³è¯·å®¡æ ¸ä¸­
- `INTERVIEW_SCHEDULED`: é¢è¯•å®‰æ’é€šçŸ¥
- `APPLICATION_ACCEPTED`: ç”³è¯·é€šè¿‡
- `APPLICATION_REJECTED`: ç”³è¯·æ‹’ç»
- `HR_NEW_APPLICATION`: HR æ–°ç”³è¯·é€šçŸ¥

### 5.2 éªŒè¯é‚®ä»¶æœåŠ¡

**æ¥å£è·¯å¾„**: `GET /api/email`  
**åŠŸèƒ½æè¿°**: éªŒè¯é‚®ä»¶æœåŠ¡è¿æ¥çŠ¶æ€  
**æƒé™è¦æ±‚**: HR æˆ–ç®¡ç†å‘˜

**å“åº”æ ¼å¼**:

```json
{
  "success": true,
  "connected": true,
  "message": "é‚®ä»¶æœåŠ¡è¿æ¥æ­£å¸¸"
}
```

---

## 6. é€šçŸ¥ç³»ç»Ÿ (Notifications)

### 6.1 è·å–é€šçŸ¥åˆ—è¡¨

**æ¥å£è·¯å¾„**: `GET /api/notifications`  
**åŠŸèƒ½æè¿°**: è·å–ç”¨æˆ·é€šçŸ¥åˆ—è¡¨  
**æƒé™è¦æ±‚**: å·²è®¤è¯ç”¨æˆ·  
**å¼€å‘çŠ¶æ€**: ğŸ“‹ è®¡åˆ’ä¸­

### 6.2 æ ‡è®°é€šçŸ¥å·²è¯»

**æ¥å£è·¯å¾„**: `PUT /api/notifications/[id]`  
**åŠŸèƒ½æè¿°**: æ ‡è®°å•ä¸ªé€šçŸ¥ä¸ºå·²è¯»  
**æƒé™è¦æ±‚**: å·²è®¤è¯ç”¨æˆ·  
**å¼€å‘çŠ¶æ€**: ğŸ“‹ è®¡åˆ’ä¸­

### 6.3 å‘é€é‚®ä»¶é€šçŸ¥

**æ¥å£è·¯å¾„**: `POST /api/notifications/email`  
**åŠŸèƒ½æè¿°**: å‘é€é‚®ä»¶é€šçŸ¥  
**æƒé™è¦æ±‚**: HR æˆ–ç®¡ç†å‘˜  
**å¼€å‘çŠ¶æ€**: ğŸ“‹ è®¡åˆ’ä¸­

---

## 7. å…¶ä»–æ¥å£

### 7.1 åœ¨çº¿è¯„ä¼°

**æ¥å£è·¯å¾„**: `POST /api/assessment`  
**åŠŸèƒ½æè¿°**: å€™é€‰äººåœ¨çº¿èƒ½åŠ›è¯„ä¼°  
**æƒé™è¦æ±‚**: å·²è®¤è¯å€™é€‰äºº  
**å¼€å‘çŠ¶æ€**: ğŸ“‹ è®¡åˆ’ä¸­

### 7.2 æ¶ˆæ¯ç³»ç»Ÿ

**æ¥å£è·¯å¾„**: `GET /api/messages`  
**åŠŸèƒ½æè¿°**: è·å–ç”¨æˆ·æ¶ˆæ¯åˆ—è¡¨  
**æƒé™è¦æ±‚**: å·²è®¤è¯ç”¨æˆ·  
**å¼€å‘çŠ¶æ€**: ğŸ“‹ è®¡åˆ’ä¸­

---

## âš ï¸ é”™è¯¯ç è¯´æ˜

| çŠ¶æ€ç  | é”™è¯¯ç±»å‹   | è¯´æ˜                   |
| ------ | ---------- | ---------------------- |
| 200    | æˆåŠŸ       | è¯·æ±‚æˆåŠŸå¤„ç†           |
| 400    | è¯·æ±‚é”™è¯¯   | å‚æ•°é”™è¯¯æˆ–ç¼ºå°‘å¿…è¦å­—æ®µ |
| 401    | æœªè®¤è¯     | éœ€è¦ç™»å½•æˆ– token æ— æ•ˆ  |
| 403    | æƒé™ä¸è¶³   | ç”¨æˆ·è§’è‰²æƒé™ä¸å¤Ÿ       |
| 404    | èµ„æºä¸å­˜åœ¨ | è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨       |
| 500    | æœåŠ¡å™¨é”™è¯¯ | å†…éƒ¨æœåŠ¡å™¨é”™è¯¯         |

**é”™è¯¯å“åº”æ ¼å¼**:

```json
{
  "success": false,
  "error": "é”™è¯¯æè¿°",
  "details": "è¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰"
}
```

---

## ğŸ”§ å¼€å‘è¯´æ˜

### æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 14 App Router
- **æ•°æ®åº“**: Supabase PostgreSQL
- **è®¤è¯**: Supabase Auth
- **æ–‡ä»¶å­˜å‚¨**: Supabase Storage
- **é‚®ä»¶æœåŠ¡**: è‡ªå®šä¹‰é‚®ä»¶æœåŠ¡

### ç¯å¢ƒå˜é‡

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
***REMOVED***=your_anon_key
***REMOVED***=your_service_key
```

### æ•°æ®åº“è¡¨ç»“æ„

- `users`: ç”¨æˆ·è¡¨
- `applicants`: ç”³è¯·äººè¡¨
- `jobs`: èŒä½è¡¨
- `applications`: ç”³è¯·è®°å½•è¡¨
- `resumes`: ç®€å†æ–‡ä»¶è¡¨
- `interviews`: é¢è¯•è®°å½•è¡¨
- `notifications`: é€šçŸ¥è¡¨

---

## ğŸ“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•å¤„ç†æ–‡ä»¶ä¸Šä¼ ï¼Ÿ

A: æ–‡ä»¶éœ€è¦è½¬æ¢ä¸º Base64 æ ¼å¼åœ¨è¯·æ±‚ä½“ä¸­å‘é€ï¼ŒæœåŠ¡ç«¯ä¼šè‡ªåŠ¨å¤„ç†ä¸Šä¼ åˆ° Supabase Storageã€‚

### Q: API æœ‰é€Ÿç‡é™åˆ¶å—ï¼Ÿ

A: ç›®å‰æ²¡æœ‰å®ç°é€Ÿç‡é™åˆ¶ï¼Œå»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ·»åŠ ã€‚

### Q: å¦‚ä½•è·å–ç”¨æˆ·æƒé™ï¼Ÿ

A: é€šè¿‡ Supabase Auth JWT token ä¸­çš„ç”¨æˆ·ä¿¡æ¯å’Œæ•°æ®åº“ä¸­çš„è§’è‰²å­—æ®µç¡®å®šæƒé™ã€‚

---

## ğŸ“‹ API æ¥å£æ¸…å•

### å·²å®ç°æ¥å£ (âœ… å®Œæˆ)

| åºå· | æ¥å£è·¯å¾„                   | æ–¹æ³• | åŠŸèƒ½æè¿°       | æƒé™è¦æ±‚  |
| ---- | -------------------------- | ---- | -------------- | --------- |
| 1    | `/api/applications/submit` | POST | æäº¤èŒä½ç”³è¯·   | æ— éœ€è®¤è¯  |
| 2    | `/api/jobs`                | GET  | è·å–èŒä½åˆ—è¡¨   | æ— éœ€è®¤è¯  |
| 3    | `/api/jobs`                | POST | åˆ›å»ºèŒä½       | HR/ç®¡ç†å‘˜ |
| 4    | `/api/hr/candidates`       | GET  | è·å–å€™é€‰äººåˆ—è¡¨ | HR/ç®¡ç†å‘˜ |
| 5    | `/api/hr/candidates`       | POST | åˆ›å»ºå€™é€‰äºº     | HR/ç®¡ç†å‘˜ |
| 6    | `/api/hr/candidates`       | PUT  | æ‰¹é‡æ“ä½œå€™é€‰äºº | HR/ç®¡ç†å‘˜ |
| 7    | `/api/email`               | POST | å‘é€é‚®ä»¶       | HR/ç®¡ç†å‘˜ |
| 8    | `/api/email`               | GET  | éªŒè¯é‚®ä»¶æœåŠ¡   | HR/ç®¡ç†å‘˜ |

### å¼€å‘ä¸­æ¥å£ (ğŸ”„ éƒ¨åˆ†å®Œæˆ)

| åºå· | æ¥å£è·¯å¾„                                  | æ–¹æ³• | åŠŸèƒ½æè¿°       | å¼€å‘çŠ¶æ€             |
| ---- | ----------------------------------------- | ---- | -------------- | -------------------- |
| 9    | `/api/hr/candidates/batch`                | POST | æ‰¹é‡å¯¼å‡ºå€™é€‰äºº | æ¥å£å­˜åœ¨ï¼ŒåŠŸèƒ½å¾…å®Œå–„ |
| 10   | `/api/hr/applications/[id]/status`        | PUT  | æ›´æ–°ç”³è¯·çŠ¶æ€   | æ¥å£å­˜åœ¨ï¼ŒåŠŸèƒ½å¾…å®Œå–„ |
| 11   | `/api/hr/interviews/smart-schedule`       | POST | æ™ºèƒ½é¢è¯•è°ƒåº¦   | æ¥å£å­˜åœ¨ï¼ŒåŠŸèƒ½å¾…å®Œå–„ |
| 12   | `/api/hr/interviews/feedback`             | POST | é¢è¯•åé¦ˆ       | æ¥å£å­˜åœ¨ï¼ŒåŠŸèƒ½å¾…å®Œå–„ |
| 13   | `/api/hr/analytics`                       | GET  | HR æ•°æ®åˆ†æ    | æ¥å£å­˜åœ¨ï¼ŒåŠŸèƒ½å¾…å®Œå–„ |
| 14   | `/api/candidates/interview-slots/[token]` | GET  | è·å–é¢è¯•æ—¶é—´æ®µ | æ¥å£å­˜åœ¨ï¼ŒåŠŸèƒ½å¾…å®Œå–„ |

### è®¡åˆ’ä¸­æ¥å£ (ğŸ“‹ å¾…å¼€å‘)

| åºå· | æ¥å£è·¯å¾„                  | æ–¹æ³• | åŠŸèƒ½æè¿°     | è®¡åˆ’çŠ¶æ€             |
| ---- | ------------------------- | ---- | ------------ | -------------------- |
| 15   | `/api/notifications`      | GET  | è·å–é€šçŸ¥åˆ—è¡¨ | æ¥å£å­˜åœ¨ï¼ŒåŠŸèƒ½å¾…å®ç° |
| 16   | `/api/notifications/[id]` | PUT  | æ ‡è®°é€šçŸ¥å·²è¯» | æ¥å£å­˜åœ¨ï¼ŒåŠŸèƒ½å¾…å®ç° |
| 17   | `/api/messages`           | GET  | è·å–æ¶ˆæ¯åˆ—è¡¨ | æ¥å£å­˜åœ¨ï¼ŒåŠŸèƒ½å¾…å®ç° |
| 18   | `/api/assessment`         | POST | åœ¨çº¿è¯„ä¼°     | æ¥å£å­˜åœ¨ï¼ŒåŠŸèƒ½å¾…å®ç° |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒé…ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd yarbo-recruitment

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env.local
# ç¼–è¾‘ .env.local æ–‡ä»¶ï¼Œå¡«å…¥ Supabase é…ç½®
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

### 3. æµ‹è¯• API æ¥å£

```bash
# æµ‹è¯•èŒä½åˆ—è¡¨æ¥å£
curl http://localhost:3002/api/jobs

# æµ‹è¯•ç”³è¯·æäº¤æ¥å£
curl -X POST http://localhost:3002/api/applications/submit \
  -H "Content-Type: application/json" \
  -d @test-application.json
```

---

## ğŸ” æ¥å£æµ‹è¯•ç¤ºä¾‹

### æµ‹è¯•æ•°æ®æ–‡ä»¶

**test-application.json**:

```json
{
  "jobId": "b331caed-3f65-4d4f-8b92-f94e64ba357c",
  "applicantInfo": {
    "name": "æµ‹è¯•ç”¨æˆ·",
    "email": "test@example.com",
    "phone": "13800138000"
  },
  "resumeFile": {
    "name": "test-resume.pdf",
    "size": 1024,
    "type": "application/pdf",
    "data": "data:application/pdf;base64,JVBERi0xLjQKJcOkw7zDtsO4DQo="
  }
}
```

### Postman é›†åˆ

é¡¹ç›®åŒ…å«å®Œæ•´çš„ Postman é›†åˆæ–‡ä»¶ï¼ŒåŒ…å«æ‰€æœ‰ API æ¥å£çš„æµ‹è¯•ç”¨ä¾‹ã€‚

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. ç¼“å­˜ç­–ç•¥

- èŒä½åˆ—è¡¨æ•°æ®ç¼“å­˜ 5 åˆ†é’Ÿ
- å€™é€‰äººåˆ—è¡¨æ•°æ®ç¼“å­˜ 2 åˆ†é’Ÿ
- é™æ€æ•°æ®ï¼ˆéƒ¨é—¨ã€åœ°ç‚¹ï¼‰ç¼“å­˜ 1 å°æ—¶

### 2. åˆ†é¡µä¼˜åŒ–

- é»˜è®¤åˆ†é¡µå¤§å°ï¼š20 æ¡è®°å½•
- æœ€å¤§åˆ†é¡µå¤§å°ï¼š100 æ¡è®°å½•
- ä½¿ç”¨æ¸¸æ ‡åˆ†é¡µä¼˜åŒ–å¤§æ•°æ®é›†æŸ¥è¯¢

### 3. æ–‡ä»¶ä¸Šä¼ ä¼˜åŒ–

- æ”¯æŒåˆ†ç‰‡ä¸Šä¼ å¤§æ–‡ä»¶
- æ–‡ä»¶ç±»å‹å’Œå¤§å°éªŒè¯
- è‡ªåŠ¨å‹ç¼©å’Œæ ¼å¼è½¬æ¢

---

## ğŸ”’ å®‰å…¨è€ƒè™‘

### 1. è¾“å…¥éªŒè¯

- æ‰€æœ‰ç”¨æˆ·è¾“å…¥è¿›è¡Œä¸¥æ ¼éªŒè¯
- SQL æ³¨å…¥é˜²æŠ¤
- XSS æ”»å‡»é˜²æŠ¤

### 2. æƒé™æ§åˆ¶

- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶(RBAC)
- API æ¥å£æƒé™éªŒè¯
- æ•æ„Ÿæ•°æ®è®¿é—®æ—¥å¿—

### 3. æ•°æ®ä¿æŠ¤

- ä¸ªäººä¿¡æ¯åŠ å¯†å­˜å‚¨
- ç®€å†æ–‡ä»¶è®¿é—®æ§åˆ¶
- æ•°æ®ä¼ è¾“ HTTPS åŠ å¯†

---

## ğŸ“Š ç›‘æ§å’Œæ—¥å¿—

### 1. API ç›‘æ§

- å“åº”æ—¶é—´ç›‘æ§
- é”™è¯¯ç‡ç»Ÿè®¡
- è¯·æ±‚é‡ç»Ÿè®¡

### 2. æ—¥å¿—è®°å½•

- è¯·æ±‚æ—¥å¿—
- é”™è¯¯æ—¥å¿—
- å®‰å…¨äº‹ä»¶æ—¥å¿—

### 3. å‘Šè­¦æœºåˆ¶

- API å¼‚å¸¸å‘Šè­¦
- æ€§èƒ½é˜ˆå€¼å‘Šè­¦
- å®‰å…¨äº‹ä»¶å‘Šè­¦

---

## ğŸ”„ ç‰ˆæœ¬æ›´æ–°è®°å½•

### v1.0 (2025-06-14)

- âœ… å®Œæˆç”³è¯·æäº¤ API
- âœ… å®ŒæˆèŒä½ç®¡ç† API
- âœ… å®Œæˆå€™é€‰äººç®¡ç† API
- âœ… å®Œæˆé‚®ä»¶ç³»ç»Ÿ API
- ğŸ”„ éƒ¨åˆ† HR ç®¡ç†åŠŸèƒ½
- ğŸ“‹ è§„åˆ’é€šçŸ¥å’Œæ¶ˆæ¯ç³»ç»Ÿ

### è®¡åˆ’ä¸­çš„æ›´æ–°

- v1.1: å®Œå–„ HR ç®¡ç†åŠŸèƒ½
- v1.2: å®ç°é€šçŸ¥ç³»ç»Ÿ
- v1.3: æ·»åŠ åœ¨çº¿è¯„ä¼°åŠŸèƒ½
- v1.4: æ€§èƒ½ä¼˜åŒ–å’Œç¼“å­˜

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### 1. å¼€å‘è§„èŒƒ

- éµå¾ª RESTful API è®¾è®¡åŸåˆ™
- ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œå“åº”æ ¼å¼
- å®Œæ•´çš„å‚æ•°éªŒè¯å’Œç±»å‹æ£€æŸ¥

### 2. ä»£ç æäº¤

- æäº¤å‰è¿è¡Œæµ‹è¯•ç”¨ä¾‹
- æ›´æ–°ç›¸å…³æ–‡æ¡£
- éµå¾ª Git æäº¤è§„èŒƒ

### 3. API è®¾è®¡åŸåˆ™

- ä¿æŒæ¥å£ç®€æ´æ˜äº†
- å‘åå…¼å®¹æ€§è€ƒè™‘
- å®Œæ•´çš„é”™è¯¯ä¿¡æ¯è¿”å›

---

_æ–‡æ¡£æ›´æ–°æ—¶é—´: 2025 å¹´ 6 æœˆ 14 æ—¥_
_API ç‰ˆæœ¬: v1.0_
_ç»´æŠ¤å›¢é˜Ÿ: Yarbo æŠ€æœ¯å›¢é˜Ÿ_
