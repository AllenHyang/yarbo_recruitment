# 阶段7: 候选人个人中心

## 1. 阶段目标
- 为候选人提供一个专属、私密的入口，以跟踪自己的求职全过程。
- 整合候选人视角下的所有核心功能，提升求职体验的透明度和掌控感。
- **产出**: 功能完善的 `status.html` 页面。

## 2. 包含的用户故事
- **作为一名投递了简历的候选人**, 我希望能用我投递时使用的手机号方便地登录，而不是去记一个新密码。
- **作为一名候选人**, 登录后我想在一个清晰的仪表盘里，直观地看到我的申请进行到了哪一步（比如"简历评估中"还是"面试中"），以缓解我的焦虑。
- **作为一名候选人**, 我发现我上传的简历里有个小错误，我希望能有机会在投递后的短时间内更新我的简历或联系方式。
- **作为一名候选人**, 如果我和HR沟通不畅，我希望能方便地找到公司的其他联系方式，比如招聘邮箱。

## 3. 功能需求
- **登录流程**:
    - 在`status.html`的初始页面，提供输入手机号的表单。
    - **"获取验证码"按钮**:
        - 点击后，前端模拟发送验证码的行为，并显示60秒倒计时。
        - 提示用户查收短信（并告知演示用的万能验证码）。
    - 输入6位验证码后，点击"查询"即可登录。

- **整体布局**:
    - **使用 `Tabs` 组件** 将"申请状态"、"个人资料"、"我的测评"等分隔开，使信息结构更清晰。
- **申请状态时间线**:
    - 以 `Card` 组件为容器，内部进行自定义的可视化时间线设计。
- **个人资料管理**:
    - **使用 `Card` 组件**，显示用户投递时填写的姓名、手机、邮箱和简历。
    - **更新**: 提供 `Button` 触发 `Dialog` 来更新资料。
- **我的测评**:
    - 提供一个"查看测评报告"的按钮，链接至`assessment-report.html`。
- **联系Yarbo**:
    - 以列表形式，清晰展示公司的招聘邮箱、HR微信号、小红书账号等。

## 4. 验收标准
- 用户可以通过"手机+验证码"的方式成功登录。
- 登录后，可以看到包含申请时间线和右侧卡片的个人中心。
- 时间线的当前状态高亮显示正确。
- 点击"更新资料"按钮可以正常弹出模态框，并能成功提交。
- "查看测评报告"和"联系我们"中的链接指向正确。

## 5. 技术实现说明
- **候选人认证**:
    - **手机验证码登录**: 这是最常见和安全的方式。
        - 使用Supabase Auth提供的 `signInWithOtp` (OTP: One-Time Password) 功能，并选择 `phone` 作为通道。
        - 这可能需要集成一个第三方的短信服务商（如Twilio），并配置在Supabase后台。
    - **会话管理**: 登录成功后，Supabase会返回一个session，前端需要安全地管理这个session，以便后续的API请求能验证用户身份。
- **数据操作**:
    - **查询**: 候选人登录后，通过其身份信息（`session.user.id` 或手机号）去 `candidates` 表中查询其所有投递记录和状态。
    - **更新**: 更新个人资料的操作，实际上是去更新 `candidates` 表中对应的行。重新上传简历则会替换Supabase Storage中的旧文件。
- **Shadcn/UI 组件**:
    - **添加命令**: `npx shadcn@latest add tabs card button dialog`
    - 使用 `Tabs` 作为主导航结构。
    - 使用 `Card` 组织信息区块。

## 6. 验收标准 (Acceptance Criteria)
- ✅ 候选人可以通过"手机号+验证码"的方式成功登录。
- ✅ 登录后，页面能以 `Tabs` 形式正确显示信息，且申请时间线状态与后台同步。
- ✅ 用户可以点击 `Button` 弹出 `Dialog` 并成功更新自己的联系方式。
- ✅ 用户可以成功上传一份新简历，Storage中的旧文件被替换，数据库中的URL也同步更新。
- ✅ 如果存在测评报告，测评入口能正确显示并可以点击。
- ✅ 未登录用户无法访问个人中心页面。 