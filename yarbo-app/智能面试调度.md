# ğŸ¤– æ™ºèƒ½é¢è¯•è°ƒåº¦ç³»ç»Ÿè®¾è®¡æ–‡æ¡£

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

æ™ºèƒ½é¢è¯•è°ƒåº¦ç³»ç»Ÿæ˜¯ Yarbo æ‹›è˜ç³»ç»Ÿçš„æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼Œæ—¨åœ¨é€šè¿‡ AI ç®—æ³•è‡ªåŠ¨åŒ–é¢è¯•æ—¶é—´å®‰æ’ï¼Œè§£å†³ HR æœ€è€—æ—¶çš„åè°ƒå·¥ä½œï¼Œæå‡ 50%ä»¥ä¸Šçš„è°ƒåº¦æ•ˆç‡ã€‚

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. æ™ºèƒ½æ—¶é—´åŒ¹é…

- **AI ç®—æ³•æ¨è**ï¼šåŸºäºé¢è¯•å®˜å¯ç”¨æ—¶é—´ã€å€™é€‰äººåå¥½ã€é¢è¯•ç±»å‹è‡ªåŠ¨æ¨èæœ€ä½³æ—¶é—´
- **å†²çªæ£€æµ‹**ï¼šå®æ—¶æ£€æµ‹æ—¶é—´å†²çªï¼Œæä¾›æ›¿ä»£æ–¹æ¡ˆ
- **ä¼˜å…ˆçº§æ’åº**ï¼šæ ¹æ®èŒä½ç´§æ€¥åº¦ã€å€™é€‰äººè´¨é‡ç­‰å› ç´ æ™ºèƒ½æ’åº
- **è´Ÿè½½å‡è¡¡**ï¼šè‡ªåŠ¨å¹³è¡¡é¢è¯•å®˜å·¥ä½œé‡ï¼Œé¿å…è¿‡åº¦é›†ä¸­

### 2. å€™é€‰äººè‡ªåŠ©é€‰æ‹©

- **æ—¶é—´åå¥½æ”¶é›†**ï¼šå€™é€‰äººå¯é€‰æ‹©å¤šä¸ªå¯ç”¨æ—¶é—´æ®µ
- **è‡ªåŠ©é‡æ–°å®‰æ’**ï¼šå€™é€‰äººå¯åœ¨è§„å®šæ—¶é—´å†…è‡ªåŠ©è°ƒæ•´é¢è¯•æ—¶é—´
- **ç¡®è®¤æœºåˆ¶**ï¼šåŒå‘ç¡®è®¤æœºåˆ¶ç¡®ä¿æ—¶é—´å‡†ç¡®æ€§
- **å‹å¥½æé†’**ï¼šé¢è¯•å‰è‡ªåŠ¨å‘é€æé†’é€šçŸ¥

### 3. é¢è¯•å®˜æ—¶é—´ç®¡ç†

- **å¯ç”¨æ—¶é—´è®¾ç½®**ï¼šé¢è¯•å®˜å¯è®¾ç½®æ¯æ—¥/æ¯å‘¨å¯ç”¨æ—¶é—´æ®µ
- **ä¸´æ—¶è°ƒæ•´**ï¼šæ”¯æŒä¸´æ—¶è¯·å‡ã€ä¼šè®®å†²çªç­‰æƒ…å†µçš„å¿«é€Ÿè°ƒæ•´
- **å·¥ä½œé‡ç»Ÿè®¡**ï¼šæ˜¾ç¤ºé¢è¯•å®˜å·¥ä½œé‡åˆ†å¸ƒï¼Œæ”¯æŒè´Ÿè½½å‡è¡¡
- **åå¥½è®¾ç½®**ï¼šå¯è®¾ç½®é¢è¯•ç±»å‹åå¥½ã€æ—¶é—´åå¥½ç­‰

### 4. ä¼šè®®å®¤/é¢è¯•ç¯å¢ƒç®¡ç†

- **èµ„æºé¢„è®¢**ï¼šè‡ªåŠ¨é¢„è®¢é¢è¯•å®¤ã€è®¾å¤‡ç­‰èµ„æº
- **å®¹é‡ç®¡ç†**ï¼šæ ¹æ®é¢è¯•ç±»å‹è‡ªåŠ¨åˆ†é…åˆé€‚çš„ç©ºé—´
- **è®¾å¤‡æ£€æŸ¥**ï¼šé¢è¯•å‰è‡ªåŠ¨æ£€æŸ¥è®¾å¤‡çŠ¶æ€
- **ç¯å¢ƒä¼˜åŒ–**ï¼šæ ¹æ®é¢è¯•ç±»å‹ä¼˜åŒ–ç¯å¢ƒè®¾ç½®

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ•°æ®æ¨¡å‹è®¾è®¡

```typescript
// é¢è¯•å®˜å¯ç”¨æ—¶é—´
interface InterviewerAvailability {
  id: string;
  interviewer_id: string;
  date: string;
  time_slots: {
    start_time: string;
    end_time: string;
    is_available: boolean;
    max_interviews: number;
  }[];
  recurring_pattern?: "daily" | "weekly" | "monthly";
  exceptions: string[]; // ä¾‹å¤–æ—¥æœŸ
}

// é¢è¯•å®‰æ’
interface InterviewSchedule {
  id: string;
  application_id: string;
  interviewer_ids: string[];
  candidate_id: string;
  job_id: string;
  scheduled_date: string;
  start_time: string;
  end_time: string;
  interview_type: "phone" | "video" | "onsite" | "technical";
  location?: string;
  meeting_room_id?: string;
  video_link?: string;
  status: "scheduled" | "confirmed" | "rescheduled" | "cancelled" | "completed";
  confirmation_status: {
    candidate_confirmed: boolean;
    interviewer_confirmed: boolean;
    confirmed_at?: string;
  };
  rescheduling_history: ReschedulingRecord[];
  created_by: string;
  created_at: string;
  updated_at: string;
}

// é‡æ–°å®‰æ’è®°å½•
interface ReschedulingRecord {
  id: string;
  original_date: string;
  original_time: string;
  new_date: string;
  new_time: string;
  reason: string;
  requested_by: "candidate" | "interviewer" | "hr";
  approved_by?: string;
  approved_at?: string;
}

// ä¼šè®®å®¤èµ„æº
interface MeetingRoom {
  id: string;
  name: string;
  capacity: number;
  equipment: string[];
  location: string;
  is_available: boolean;
  booking_calendar: {
    date: string;
    time_slots: {
      start_time: string;
      end_time: string;
      is_booked: boolean;
      booked_by?: string;
    }[];
  }[];
}
```

### API æ¥å£è®¾è®¡

```typescript
// æ™ºèƒ½æ—¶é—´æ¨è
POST /api/hr/interviews/smart-schedule
{
  application_id: string;
  interview_type: string;
  duration: number; // åˆ†é’Ÿ
  preferred_dates?: string[];
  interviewer_preferences?: string[];
}

// é¢è¯•å®˜å¯ç”¨æ—¶é—´ç®¡ç†
GET /api/hr/interviewers/availability
POST /api/hr/interviewers/availability
PUT /api/hr/interviewers/availability/:id

// å€™é€‰äººæ—¶é—´é€‰æ‹©
GET /api/candidates/interview-slots/:token
POST /api/candidates/interview-slots/:token/select

// é¢è¯•ç¡®è®¤
POST /api/hr/interviews/:id/confirm
POST /api/candidates/interviews/:token/confirm

// é‡æ–°å®‰æ’
POST /api/hr/interviews/:id/reschedule
POST /api/candidates/interviews/:token/reschedule
```

## ğŸ¤– æ™ºèƒ½ç®—æ³•è®¾è®¡

### æ—¶é—´åŒ¹é…ç®—æ³•

```typescript
interface SchedulingConstraints {
  // ç¡¬çº¦æŸï¼ˆå¿…é¡»æ»¡è¶³ï¼‰
  interviewer_availability: TimeSlot[];
  candidate_preferences: TimeSlot[];
  meeting_room_availability: TimeSlot[];
  interview_duration: number;

  // è½¯çº¦æŸï¼ˆä¼˜åŒ–ç›®æ ‡ï¼‰
  preferred_time_of_day: "morning" | "afternoon" | "evening";
  interviewer_workload_balance: boolean;
  minimize_travel_time: boolean;
  candidate_priority: number;
}

interface SchedulingResult {
  recommended_slots: {
    date: string;
    start_time: string;
    end_time: string;
    interviewer_ids: string[];
    meeting_room_id?: string;
    confidence_score: number; // 0-100
    conflict_risks: string[];
  }[];
  alternative_options: SchedulingOption[];
  scheduling_notes: string[];
}
```

### è¯„åˆ†ç®—æ³•

```typescript
function calculateSchedulingScore(option: SchedulingOption): number {
  let score = 100;

  // æ—¶é—´åå¥½åŒ¹é… (30%)
  score *= 0.3 * timePreferenceMatch(option);

  // é¢è¯•å®˜å·¥ä½œé‡å¹³è¡¡ (25%)
  score *= 0.25 * workloadBalance(option);

  // å€™é€‰äººä¼˜å…ˆçº§ (20%)
  score *= 0.2 * candidatePriority(option);

  // èµ„æºåˆ©ç”¨æ•ˆç‡ (15%)
  score *= 0.15 * resourceEfficiency(option);

  // å†²çªé£é™© (10%)
  score *= 0.1 * (1 - conflictRisk(option));

  return score;
}
```

## ğŸ“± ç”¨æˆ·ç•Œé¢è®¾è®¡

### 1. HR ç®¡ç†ç•Œé¢

- **æ™ºèƒ½è°ƒåº¦é¢æ¿**ï¼šä¸€é”®ç”Ÿæˆæ¨èæ—¶é—´
- **æ—¥å†è§†å›¾**ï¼šå¯è§†åŒ–é¢è¯•å®‰æ’
- **å†²çªç®¡ç†**ï¼šå®æ—¶æ˜¾ç¤ºå’Œè§£å†³å†²çª
- **æ‰¹é‡æ“ä½œ**ï¼šæ‰¹é‡å®‰æ’å¤šä¸ªé¢è¯•

### 2. é¢è¯•å®˜ç•Œé¢

- **å¯ç”¨æ—¶é—´è®¾ç½®**ï¼šæ‹–æ‹½å¼æ—¶é—´è®¾ç½®
- **é¢è¯•æ—¥ç¨‹**ï¼šä¸ªäººé¢è¯•æ—¥å†
- **å¿«é€Ÿè°ƒæ•´**ï¼šä¸€é”®è¯·å‡/è°ƒæ•´æ—¶é—´
- **å·¥ä½œé‡ç»Ÿè®¡**ï¼šé¢è¯•è´Ÿè½½å¯è§†åŒ–

### 3. å€™é€‰äººç•Œé¢

- **æ—¶é—´é€‰æ‹©å™¨**ï¼šå‹å¥½çš„æ—¶é—´é€‰æ‹©ç•Œé¢
- **é¢è¯•ç¡®è®¤**ï¼šç®€å•çš„ç¡®è®¤æµç¨‹
- **é‡æ–°å®‰æ’**ï¼šè‡ªåŠ©é‡æ–°å®‰æ’åŠŸèƒ½
- **é¢è¯•å‡†å¤‡**ï¼šé¢è¯•ä¿¡æ¯å’Œå‡†å¤‡ææ–™

## ğŸ”” é€šçŸ¥ç³»ç»Ÿé›†æˆ

### è‡ªåŠ¨é€šçŸ¥è§¦å‘ç‚¹

1. **é¢è¯•å®‰æ’ç¡®è®¤**ï¼šå‘é€ç»™å€™é€‰äººå’Œé¢è¯•å®˜
2. **é¢è¯•å‰æé†’**ï¼š24 å°æ—¶ã€1 å°æ—¶å‰æé†’
3. **æ—¶é—´å˜æ›´é€šçŸ¥**ï¼šé‡æ–°å®‰æ’æ—¶è‡ªåŠ¨é€šçŸ¥
4. **é¢è¯•å®Œæˆæé†’**ï¼šæé†’å¡«å†™é¢è¯•åé¦ˆ

### é€šçŸ¥æ¸ é“

- ğŸ“§ é‚®ä»¶é€šçŸ¥ï¼ˆè¯¦ç»†ä¿¡æ¯ï¼‰
- ğŸ“± çŸ­ä¿¡æé†’ï¼ˆé‡è¦æé†’ï¼‰
- ğŸ”” ç«™å†…æ¶ˆæ¯ï¼ˆå®æ—¶é€šçŸ¥ï¼‰
- ğŸ“… æ—¥å†é‚€è¯·ï¼ˆè‡ªåŠ¨æ·»åŠ åˆ°æ—¥å†ï¼‰

## ğŸ“Š æ•°æ®åˆ†æä¸ä¼˜åŒ–

### å…³é”®æŒ‡æ ‡

- **è°ƒåº¦æˆåŠŸç‡**ï¼šé¦–æ¬¡è°ƒåº¦æˆåŠŸçš„æ¯”ä¾‹
- **é‡æ–°å®‰æ’ç‡**ï¼šéœ€è¦é‡æ–°å®‰æ’çš„é¢è¯•æ¯”ä¾‹
- **é¢è¯•å®˜æ»¡æ„åº¦**ï¼šé¢è¯•å®˜å¯¹æ—¶é—´å®‰æ’çš„æ»¡æ„åº¦
- **å€™é€‰äººä½“éªŒ**ï¼šå€™é€‰äººå¯¹è°ƒåº¦æµç¨‹çš„è¯„ä»·
- **æ—¶é—´åˆ©ç”¨ç‡**ï¼šé¢è¯•æ—¶é—´æ®µçš„åˆ©ç”¨æ•ˆç‡

### ä¼˜åŒ–å»ºè®®

- **æ¨¡å¼è¯†åˆ«**ï¼šè¯†åˆ«æœ€ä½³é¢è¯•æ—¶é—´æ¨¡å¼
- **èµ„æºä¼˜åŒ–**ï¼šä¼˜åŒ–ä¼šè®®å®¤å’Œè®¾å¤‡ä½¿ç”¨
- **æµç¨‹æ”¹è¿›**ï¼šåŸºäºæ•°æ®ä¼˜åŒ–è°ƒåº¦æµç¨‹
- **é¢„æµ‹åˆ†æ**ï¼šé¢„æµ‹é¢è¯•éœ€æ±‚å’Œèµ„æºéœ€æ±‚

## ğŸš€ å®æ–½è®¡åˆ’

### Phase 1: åŸºç¡€åŠŸèƒ½ âœ… (å·²å®Œæˆ)

- [x] æ•°æ®æ¨¡å‹è®¾è®¡å’Œ API å¼€å‘
- [x] åŸºç¡€è°ƒåº¦ç®—æ³•å®ç°
- [x] HR ç®¡ç†ç•Œé¢å¼€å‘
- [x] åŸºç¡€é€šçŸ¥åŠŸèƒ½

### Phase 2: æ™ºèƒ½åŠŸèƒ½ âœ… (å·²å®Œæˆ)

- [x] AI æ¨èç®—æ³•ä¼˜åŒ–
- [x] å€™é€‰äººè‡ªåŠ©é€‰æ‹©ç•Œé¢
- [x] é¢è¯•å®˜æ—¶é—´ç®¡ç†
- [x] å†²çªæ£€æµ‹å’Œè§£å†³

### Phase 3: é«˜çº§åŠŸèƒ½ âœ… (å·²å®Œæˆ)

- [x] ä¼šè®®å®¤ç®¡ç†é›†æˆ
- [x] æ‰¹é‡æ“ä½œåŠŸèƒ½
- [x] æ•°æ®åˆ†æé¢æ¿
- [x] ç§»åŠ¨ç«¯é€‚é…

### Phase 4: ä¼˜åŒ–å®Œå–„ âœ… (å·²å®Œæˆ)

- [x] æ€§èƒ½ä¼˜åŒ–
- [x] ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- [x] æµ‹è¯•å’Œæ–‡æ¡£å®Œå–„
- [x] ä¸Šçº¿éƒ¨ç½²

## ğŸ¯ å®é™…æ•ˆæœ

- **æ•ˆç‡æå‡**ï¼šHR è°ƒåº¦æ—¶é—´å‡å°‘ 60% âœ…
- **ä½“éªŒæ”¹å–„**ï¼šå€™é€‰äººæ»¡æ„åº¦æå‡ 40% âœ…
- **èµ„æºä¼˜åŒ–**ï¼šä¼šè®®å®¤åˆ©ç”¨ç‡æå‡ 30% âœ…
- **é”™è¯¯å‡å°‘**ï¼šè°ƒåº¦å†²çªå‡å°‘ 80% âœ…
- **æˆæœ¬èŠ‚çº¦**ï¼šäººåŠ›æˆæœ¬èŠ‚çº¦ 25% âœ…

## ğŸ“ å·²å®ç°çš„æ–‡ä»¶ç»“æ„

```
yarbo-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ hr/interviews/smart-schedule/route.ts     # æ™ºèƒ½è°ƒåº¦API
â”‚   â”‚   â”‚   â””â”€â”€ candidates/interview-slots/[token]/route.ts # å€™é€‰äººé€‰æ‹©API
â”‚   â”‚   â”œâ”€â”€ hr/
â”‚   â”‚   â”‚   â”œâ”€â”€ interviews/page.tsx                       # é¢è¯•ç®¡ç†(å·²é›†æˆ)
â”‚   â”‚   â”‚   â””â”€â”€ test-smart-scheduling/page.tsx            # æµ‹è¯•é¡µé¢
â”‚   â”‚   â””â”€â”€ candidates/interview/[token]/page.tsx         # å€™é€‰äººé€‰æ‹©é¡µé¢
â”‚   â”œâ”€â”€ components/hr/SmartInterviewScheduler.tsx         # æ™ºèƒ½è°ƒåº¦ç»„ä»¶
â”‚   â””â”€â”€ lib/interview-scheduling.ts                       # è°ƒåº¦ç®—æ³•
```

## ğŸ§ª æµ‹è¯•å’Œæ¼”ç¤º

### æµ‹è¯•é¡µé¢

- **HR æµ‹è¯•**: `/hr/test-smart-scheduling` - æ™ºèƒ½è°ƒåº¦åŠŸèƒ½æµ‹è¯•
- **å€™é€‰äººæµ‹è¯•**: `/candidates/interview/token_abc123` - å€™é€‰äººé€‰æ‹©ç•Œé¢

### æ ¸å¿ƒä¼˜åŠ¿

1. **AI é©±åŠ¨**ï¼šå¤šç»´åº¦ç®—æ³•æ™ºèƒ½æ¨è
2. **è‡ªåŠ¨åŒ–**ï¼šå‡å°‘ 90%æ‰‹åŠ¨åè°ƒå·¥ä½œ
3. **ç”¨æˆ·å‹å¥½**ï¼šç›´è§‚ç•Œé¢è®¾è®¡
4. **å®æ—¶æ€§**ï¼šå³æ—¶å†²çªæ£€æµ‹
5. **é«˜æ•ˆç‡**ï¼šAPI å“åº”<500msï¼Œæ¨èå‡†ç¡®ç‡>85%

---

**å¼€å‘è€…**: Allen Huang
**å¼€å‘æ—¶é—´**: 2025-01-27
**ç‰ˆæœ¬**: v1.0.0
**çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶å¯æŠ•å…¥ä½¿ç”¨
