# 职位详情页测试指南

## 测试环境
- 开发服务器: http://localhost:3000
- 测试时间: 2025年6月19日

## 测试步骤

### 1. 启动开发服务器
```bash
npm run dev
```

### 2. 访问职位列表页
- URL: http://localhost:3000/jobs
- 预期: 显示职位卡片列表

### 3. 测试职位详情页导航
- 在职位列表页，点击任意职位卡片的"查看详情"按钮
- 预期: 跳转到职位详情页 `/job-detail?id=xxx`

### 4. 验证职位详情页内容
职位详情页应包含以下内容：

#### 主要内容区域
- [ ] 职位标题
- [ ] 部门信息
- [ ] 工作地点
- [ ] 职位类型
- [ ] 职位级别

#### 详细信息卡片
- [ ] 职位描述
- [ ] 职位要求（列表形式）
- [ ] 福利待遇（列表形式）

#### 侧边栏
- [ ] 基本信息卡片
  - [ ] 薪资范围
  - [ ] 发布时间
  - [ ] 职位状态
- [ ] 申请按钮（"立即申请"或"暂停招聘"）
- [ ] 分享功能
  - [ ] 复制链接按钮
  - [ ] 分享按钮

### 5. 测试特殊情况
- [ ] 访问无效的职位ID（如 `/job-detail?id=invalid-123`）
  - 预期: 显示"职位未找到"错误页面
  - 预期: 显示"返回职位列表"按钮

### 6. 测试辅助页面
- [ ] 职位ID调试页: http://localhost:3000/debug-job-ids
- [ ] API测试页: http://localhost:3000/test-job-api
- [ ] 部门关联测试页: http://localhost:3000/test-departments

## 已知问题及解决方案

### 1. 职位未找到错误
- 原因: 部门关联查询使用了 `!inner` 导致无部门职位查询失败
- 解决: 已改为普通联表查询，支持无部门职位显示为"未分配部门"

### 2. 静态导出兼容性
- 原因: Next.js 静态导出不支持动态路由
- 解决: 使用查询参数 `?id=` 替代动态路由 `/[id]`

## 测试结果记录

| 测试项 | 状态 | 备注 |
|--------|------|------|
| 职位列表页显示 | ✅ | 正常显示所有职位 |
| 导航到详情页 | ✅ | 点击按钮正确跳转 |
| 详情页内容显示 | ✅ | 所有信息正确显示 |
| 错误处理 | ✅ | 无效ID显示错误页面 |
| API功能 | ✅ | Supabase查询正常 |

## 部署后测试
AWS Amplify部署完成后，访问：
- 生产环境职位列表: https://[your-domain]/jobs
- 测试具体职位详情页功能