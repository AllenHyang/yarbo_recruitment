<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>查询申请状态 - Yarbo 官方招聘</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1><a href="index.html">Yarbo<span class="logo-dot">.</span></a></h1>
            <nav>
                <a href="index.html">所有职位</a>
                <a href="campus.html">校园招聘</a>
                <a href="status.html" class="active">申请状态</a>
            </nav>
        </div>
    </header>

    <main class="container">
        <section id="status-checker" class="status-check-section">
            <h2>查询您的申请状态</h2>
            <p>请输入您投递时使用的手机号，获取验证码后即可查询。</p>
            <form class="status-check-form" id="status-form">
                <div class="form-group">
                    <label for="phone">手机号</label>
                    <div class="input-with-button">
                        <input type="tel" id="phone" name="phone" required placeholder="请输入您的手机号">
                        <button type="button" id="send-code-btn" class="button button-outline">获取验证码</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="code">短信验证码</label>
                    <input type="text" id="code" name="code" required placeholder="请输入6位验证码">
                </div>
                <button type="submit" class="button">查询</button>
            </form>
            <div id="feedback" class="feedback-message" style="display: none;"></div>
        </section>

        <section id="status-display" class="dashboard-container" style="display: none;">
            <!-- Main Content: Timeline -->
            <div class="dashboard-main">
                <div class="status-display-header">
                    <h2>Hi, Allen, 你的申请之旅</h2>
                    <p>你申请的职位是: <strong>高级机器人软件工程师</strong></p>
                </div>
                
                <div class="status-timeline">
                    <div class="timeline-item completed">
                        <div class="timeline-icon">✓</div>
                        <div class="timeline-content">
                            <h3>投递成功</h3>
                            <p>我们已收到您的简历，Yarbo之旅，即刻启程！</p>
                            <span class="timeline-date">2025-06-08</span>
                        </div>
                    </div>
                    <div class="timeline-item current">
                        <div class="timeline-icon">●</div>
                        <div class="timeline-content">
                            <h3>简历评估中</h3>
                            <p>我们的HR正在仔细阅读您的简历，请耐心等待，预计需要3-5个工作日。</p>
                            <span class="timeline-date">进行中</span>
                        </div>
                    </div>
                    <div class="timeline-item upcoming">
                        <div class="timeline-icon"></div>
                        <div class="timeline-content">
                            <h3>面试安排</h3>
                            <p>若通过评估，我们的招聘专员将与您联系安排面试事宜。</p>
                        </div>
                    </div>
                    <div class="timeline-item upcoming">
                        <div class="timeline-icon"></div>
                        <div class="timeline-content">
                            <h3>发放Offer</h3>
                            <p>恭喜！期待你的加入。</p>
                        </div>
                    </div>
                    <div class="timeline-item upcoming">
                        <div class="timeline-icon"></div>
                        <div class="timeline-content">
                            <h3>流程结束</h3>
                            <p>感谢你对Yarbo的关注。</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sidebar: Action Cards -->
            <aside class="dashboard-sidebar">
                <!-- Profile Card -->
                <div class="sidebar-card">
                    <h4>我的投递</h4>
                    <p>在这里管理你的个人信息和投递文件。</p>
                    <button id="edit-profile-btn" class="button button-full">查看或更新资料</button>
                </div>

                <!-- Assessment Card -->
                <div class="sidebar-card">
                    <h4>我的测评</h4>
                    <p>查看你的综合素养测评报告，了解你的优势。</p>
                    <a href="assessment-report.html" class="button button-outline button-full">查看测评报告</a>
                </div>

                <!-- Contact Card -->
                <div class="sidebar-card">
                    <h4>联系我们</h4>
                    <ul class="contact-list">
                        <li><strong>邮箱:</strong> <a href="mailto:hr@yarbo.com">hr@yarbo.com</a></li>
                        <li><strong>微信:</strong> YarboHR (或扫描二维码)</li>
                        <li><strong>小红书:</strong> Yarbo招聘</li>
                    </ul>
                </div>
            </aside>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Yarbo. All Rights Reserved. | <a href="admin-login.html">管理员登录</a></p>
        </div>
    </footer>

    <!-- Edit Profile Modal -->
    <div id="edit-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>更新你的申请资料</h3>
                <button id="close-modal-btn" class="close-button">&times;</button>
            </div>
            <div class="modal-body">
                <form id="edit-form">
                    <div class="form-group">
                        <label for="edit-name">姓名</label>
                        <input type="text" id="edit-name" value="Allen" disabled>
                    </div>
                    <div class="form-group">
                        <label for="edit-phone">手机号</label>
                        <input type="tel" id="edit-phone" value="138****1234">
                    </div>
                    <div class="form-group">
                        <label for="edit-email">邮箱</label>
                        <input type="email" id="edit-email" value="allen.d@example.com">
                    </div>
                    <div class="form-group">
                        <label for="edit-resume">更新简历</label>
                        <input type="file" id="edit-resume">
                        <small>上传新简历将覆盖旧版本。支持 PDF, DOC, DOCX, 小于5MB。</small>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="cancel-btn" class="button button-outline">取消</button>
                        <button type="submit" class="button">确认更新</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        const statusForm = document.getElementById('status-form');
        const feedback = document.getElementById('feedback');
        const sendCodeBtn = document.getElementById('send-code-btn');
        const statusCheckerSection = document.getElementById('status-checker');
        const statusDisplaySection = document.getElementById('status-display');

        // Modal elements
        const editModal = document.getElementById('edit-modal');
        const openModalBtn = document.getElementById('edit-profile-btn');
        const closeModalBtn = document.getElementById('close-modal-btn');
        const cancelBtn = document.getElementById('cancel-btn');
        const editForm = document.getElementById('edit-form');

        sendCodeBtn.addEventListener('click', function() {
            const phone = document.getElementById('phone').value;
            if (phone.match(/^1[3-9]\d{9}$/)) {
                feedback.textContent = `验证码已发送至 ${phone}，请注意查收。(演示验证码: 123456)`;
                feedback.style.display = 'block';
                feedback.style.color = 'var(--primary-color)';
                
                let seconds = 60;
                sendCodeBtn.disabled = true;
                sendCodeBtn.textContent = `重新发送(${seconds}s)`;

                const interval = setInterval(() => {
                    seconds--;
                    sendCodeBtn.textContent = `重新发送(${seconds}s)`;
                    if (seconds <= 0) {
                        clearInterval(interval);
                        sendCodeBtn.disabled = false;
                        sendCodeBtn.textContent = '获取验证码';
                    }
                }, 1000);

            } else {
                feedback.textContent = '请输入有效的手机号码。';
                feedback.style.display = 'block';
                feedback.style.color = 'red';
            }
        });

        statusForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const code = document.getElementById('code').value;

            // 演示逻辑：输入任何6位数字的验证码即可
            if (code.match(/^\d{6}$/)) {
                feedback.textContent = '查询成功！';
                feedback.style.color = 'green';
                
                statusCheckerSection.style.display = 'none';
                statusDisplaySection.style.display = 'grid';

            } else {
                feedback.textContent = '验证码错误，请重试。';
                feedback.style.color = 'red';
            }
        });

        // Modal functionality
        openModalBtn.addEventListener('click', () => {
            editModal.style.display = 'flex';
        });

        const closeModal = () => {
            editModal.style.display = 'none';
        }

        closeModalBtn.addEventListener('click', closeModal);
        cancelBtn.addEventListener('click', closeModal);

        editModal.addEventListener('click', (e) => {
            if (e.target === editModal) {
                closeModal();
            }
        });

        editForm.addEventListener('submit', (e) => {
            e.preventDefault();
            alert('资料更新成功！');
            closeModal();
        });
    </script>
</body>
</html> 